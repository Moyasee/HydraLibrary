import{r as y,d as C,g as w,i as I}from"./index-BvrYQBFb.js";async function p(){try{document.getElementById("sourcesCount").textContent="0",document.getElementById("gamesCount").textContent="0",document.getElementById("actionsCount").textContent="0";const t=new Date().getTime(),c=(await(await fetch(`./data/resources.json?t=${t}`,{cache:"no-store"})).json()).sources,r=document.getElementById("sourcesCount");l(r,c.length);const n=c.reduce((i,u)=>i+(parseInt(u.gamesCount)||0),0),d=document.getElementById("gamesCount");l(d,n);const s=y(C,"sources"),g=(await w(s)).val();if(g){const i=Object.values(g).reduce((h,f)=>{const E=f.stats||{};return h+(E.installs||0)+(E.copies||0)},0),u=document.getElementById("actionsCount");l(u,i)}}catch(t){console.error("Error loading statistics:",t)}}function l(t,e){const r=33.333333333333336;let n=0;const d=e/60,s=()=>{n+=d,n>e&&(n=e),t.textContent=Math.floor(n).toLocaleString(),n<e&&setTimeout(s,r)};s()}window.addEventListener("load",p);setInterval(p,3e5);const m=document.getElementById("language-switcher"),o=document.getElementById("language-dropdown");m.addEventListener("click",()=>{o.classList.toggle("hidden")});document.addEventListener("click",t=>{m.contains(t.target)||o.classList.add("hidden")});o.querySelectorAll("button").forEach(t=>{t.addEventListener("click",()=>{const e=t.dataset.lang;I.setLocale(e),o.classList.add("hidden");const a={en:"English",ru:"Русский","pt-br":"Português"};m.querySelector("span").textContent=a[e]})});
