import"./pt-br-D6F4xVdT.js";import{c as E,i as d,r as C,d as h,g as y}from"./index-Df5-p1tT.js";async function p(){try{const o=(await(await fetch("./data/resources.json")).json()).sources;document.getElementById("sourcesCount").textContent=o.length;const t=o.reduce((e,s)=>e+(parseInt(s.gamesCount)||0),0);document.getElementById("gamesCount").textContent=t.toLocaleString();try{const e=new Promise((l,r)=>setTimeout(()=>r(new Error("Firebase request timed out")),5e3)),s=C(h,"sources"),m=y(s),i=(await Promise.race([m,e])).val();if(i){const l=Object.values(i).reduce((r,g)=>{const u=g.stats||{};return r+(u.installs||0)+(u.copies||0)},0);document.getElementById("actionsCount").textContent=l.toLocaleString()}else document.getElementById("actionsCount").textContent="0"}catch{console.log("Firebase stats unavailable - connection limit reached or timeout"),document.getElementById("actionsCount").textContent="0"}document.querySelectorAll(".text-2xl").forEach((e,s)=>{setTimeout(()=>{e.classList.add("animate-fade-in")},s*100)})}catch(n){console.error("Error loading statistics:",n),document.getElementById("sourcesCount").textContent="0",document.getElementById("gamesCount").textContent="0",document.getElementById("actionsCount").textContent="0"}}document.addEventListener("DOMContentLoaded",async()=>{await E.initialize(),p(),d.updatePageContent();const n=document.getElementById("language-switcher"),a=document.getElementById("language-dropdown");n.addEventListener("click",t=>{t.stopPropagation(),a.classList.toggle("hidden")}),document.querySelectorAll("[data-lang]").forEach(t=>{t.addEventListener("click",()=>{const c=t.dataset.lang;d.setLocale(c),a.classList.add("hidden")})}),document.addEventListener("click",()=>{a.classList.add("hidden")});const o=()=>{const t=n.querySelector("span"),c={en:"English",ru:"Русский","pt-br":"Português"};t.textContent=c[d.currentLocale]||"English"};document.addEventListener("languageChanged",o),o()});
